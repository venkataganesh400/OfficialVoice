{% extends 'base.html' %}
{% block title %}{{ user.first_name }}'s Profile{% endblock %}
{% block content %}
<div class="container" style="padding-top: 3rem;">
    <div class="card">
        <div class="profile-layout">
            <div class="profile-avatar"><div class="icon"><i class="fas fa-user"></i></div></div>
            <div class="profile-details">
                <h2>{{user.first_name}} {{user.last_name}}</h2>
                <div class="meta-info">
                    <p><i class="fas fa-envelope fa-fw" style="color:var(--text-gray)"></i> {{user.email}}</p>
                    <p><i class="fas fa-id-card fa-fw" style="color:var(--text-gray)"></i> Voter ID: {{user.voter_id}}</p>
                </div>
                 <a href="{{url_for('delete_account')}}" id="delete-link" class="btn btn-danger">Request Account Deletion</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script>
document.getElementById('delete-link').addEventListener('click', (e) => {
    if(!confirm("Are you absolutely sure? This will mark your account for deletion and log you out immediately.")) { e.preventDefault(); }
});
</script>
{% endblock %}